#LyX 2.2 created this file. For more info see http://www.lyx.org/
\lyxformat 508
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass extarticle
\begin_preamble
%\date{}
%\usepackage{setspace}
%\doublespacing
\newcommand{\TikZ}{Ti\textit{k}Z\xspace}
\usepackage{tikz}
\usetikzlibrary{dsp,chains}
\DeclareMathAlphabet{\mathpzc}{OT1}{pzc}{m}{it}
\newcommand{\z}{\mathpzc{z}}
\end_preamble
\use_default_options true
\maintain_unincluded_children false
\language spanish-mexico
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "default" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing double
\use_hyperref false
\papersize default
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 1in
\topmargin 1in
\rightmargin 1.54in
\bottommargin 1in
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
topskip0pt
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
vspace*{
\backslash
fill}
\end_layout

\end_inset


\end_layout

\begin_layout Part
Antecedentes.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
thispagestyle{empty}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
vspace*{
\backslash
fill}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
vspace{-4ex}
\end_layout

\end_inset


\end_layout

\begin_layout Section
Procesamiento Digital de Se√±ales.
\end_layout

\begin_layout Subsection
Elementos de un sistema DSP.
\end_layout

\begin_layout Standard
\noindent
El procesamiento digital de se√±ales es una de las tecnolog√≠as m√°s vanguardistas
 que ha marcado varios segmentos tecnol√≥gicos como las comunicaciones digitales,
 ciencias m√©dicas, dise√±o de radares, reproductores de m√∫sica de alta fidelidad,
 por nombrar s√≥lo algunas.
 Esta √°rea se distingue de todas las dem√°s dentro de las Ciencias de la
 Computaci√≥n, por el tipo de datos √∫nico que utiliza: las se√±ales
\begin_inset CommandInset citation
LatexCommand cite
key "New1"

\end_inset

.
 
\end_layout

\begin_layout Standard
\noindent
El prop√≥sito principal de un sistema de procesamiento digital de se√±ales
 es manipular matem√°ticamente alg√∫n tipo de informaci√≥n tomada del mundo
 real.
 Dicha informaci√≥n es naturalmente anal√≥gica, es decir, la representaci√≥n
 de sus valores y funciones son continuos, por lo que necesita ser previamente
 digitalizada antes de ser procesada.
 Algunos ejemplos de se√±ales com√∫nmente utilizados son voz, audio, video,
 temperatura y presi√≥n.
 
\end_layout

\begin_layout Standard
\noindent
Generalmente las operaciones que se realizan sobre dichas se√±ales son adiciones,
 sustracciones, multiplicaciones y divisiones, mismas que se deben ejecutar
 muy r√°pidamente con el fin de generar una salida mucho m√°s precisa
\begin_inset CommandInset citation
LatexCommand cite
key "analog_devices"

\end_inset

.
 Esto se hace para cumplir una amplia variedad de objetivos, tales como:
 mejoras en la visualizaci√≥n de im√°genes, reconocimiento y generaci√≥n de
 voz, compresi√≥n de datos para almacenamiento y transmisi√≥n, etc.
 
\end_layout

\begin_layout Standard
\noindent
El procesamiento digital de se√±ales anal√≥gicas puede ser descrito en tres
 etapas:
\end_layout

\begin_layout Itemize
\paragraph_spacing double
\noindent
La se√±al anal√≥gica es 
\emph on
digitalizada
\emph default
, es decir, se 
\emph on
muestrea
\emph default
 y cada muestra es a su vez, 
\emph on
cuantificada
\emph default
 a un n√∫mero finito de bits.
 Este proceso es llamado 
\series bold
conversi√≥n anal√≥gico-digital
\series default
.
\end_layout

\begin_layout Itemize
\paragraph_spacing double
\noindent
Los muestreos digitalizados son procesados por un 
\emph on
Procesador Digital de Se√±ales
\emph default
.
\end_layout

\begin_layout Itemize
\paragraph_spacing double
\noindent
Las muestras resultantes de la etapa de procesamiento, se convierten de
 nuevo a un formato 
\emph on
anal√≥gico
\emph default
 mediante alguna t√©cnica de reconstrucci√≥n anal√≥gica (
\series bold
conversi√≥n digital-anal√≥gico
\series default
).
\end_layout

\begin_layout Standard
\begin_inset Note Note
status collapsed

\begin_layout Plain Layout
Un sistema se define como un dispositivo f√≠sico que realiza una operaci√≥n
 sobre una se√±al.
 Por ejemplo, un filtro utilizado para disminuir el ruido y las interferencias
 que distorsionan una se√±al deseada que transporta informaci√≥n a trav√©s
 del sistema- En este caso, el filtro realiza ciertas operaciones sobre
 la se√±al, que tienen el efecto de reducir (filtrar) el ruido y las interferenci
as de la se√±al de informaci√≥n deseada 
\begin_inset CommandInset citation
LatexCommand cite
key "Tratamiendo_senales"

\end_inset

.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\paragraph_spacing double
\noindent
Un sistema DSP t√≠pico se muestra en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Diagrama-a-bloques"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/fullblocks
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Diagrama a bloques de un Sistema de procesamiento Digital de Se√±ales.
\begin_inset CommandInset label
LatexCommand label
name "fig:Diagrama-a-bloques"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Las secciones a continuaci√≥n describen con m√°s detalle, los teoremas y t√©cnicas
 fundamentales que intervienen en los sistemas DSP.
\end_layout

\begin_layout Subsubsection
Teorema de muestreo.
\end_layout

\begin_layout Standard
El 
\emph on
teorema de muestreo
\emph default
 establece que para una representaci√≥n precisa de una se√±al 
\begin_inset Formula $\mathbf{x(t)}$
\end_inset

 por sus muestras de tiempo 
\begin_inset Formula $\mathbf{x(nT)}$
\end_inset

, dos condiciones deben cumplirse:
\end_layout

\begin_layout Itemize
La se√±al 
\begin_inset Formula $\mathbf{x(t)}$
\end_inset

 debe ser de banda limitada, es decir, su espectro de frecuencia debe ser
 limitada para contener las frecuencias hasta cierta frecuencia m√°xima,
 digamos 
\begin_inset Formula $\mathbf{f_{max}}$
\end_inset

, y sin frecuencias m√°s all√° de eso.
 Un espectro t√≠pico de banda limitada se muestra en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Banda-de-espectro"

\end_inset

.
\end_layout

\begin_layout Itemize
La frecuencia de muestreo 
\begin_inset Formula $\mathbf{f_{s}}$
\end_inset

debe ser elegida para ser al menos el doble de la frecuencia m√°xima 
\begin_inset Formula $\mathbf{f_{s}}$
\end_inset

, es decir,
\begin_inset Formula 
\begin{equation}
\mathbf{f_{s}\leq2f_{max}}
\end{equation}

\end_inset


\end_layout

\begin_layout Itemize
En t√©rminos del intervalo del tiempo de muestreo:
\begin_inset Formula 
\begin{equation}
\mathbf{T\leq\frac{1}{2f_{max}}}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/sampling_theorem
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Banda de espectro limitado t√≠pica
\begin_inset CommandInset citation
LatexCommand cite
key "dsp_introduction"

\end_inset

.
\begin_inset CommandInset label
LatexCommand label
name "fig:Banda-de-espectro"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
La velocidad de muestreo m√≠nima permitida por el teorema de muestreo, que
 es (3.2), es llamada 
\emph on
Tasa de muestreo de Nyquist.
 
\emph default
Para valores arbitrarios de 
\begin_inset Formula $\mathbf{f_{s}}$
\end_inset

, la magnitud de 
\begin_inset Formula $\mathbf{\mathbf{\frac{f_{s}}{2}}}$
\end_inset

 es llamada 
\emph on
Frecuencia de Nyquist
\series bold
.
 
\series default
\emph default
Esta frecuencia tambi√©n define
\series bold
 
\series default
las frecuencias de corte de los filtros pasa bajas que se requieren en las
 operaciones en DSP-.
\end_layout

\begin_layout Subsubsection
Cuantizaci√≥n.
\end_layout

\begin_layout Standard
El muestreo y la cuantizaci√≥n son requisitos indispensables para cualquier
 operaci√≥n de procesamiento digital en se√±ales anal√≥gicas.
 Una se√±al digital es una secuencia de n√∫meros
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Esta secuencia es conocida como 
\series bold
Muestra.
\end_layout

\end_inset

 en donde cada muestra es representada por un n√∫mero finito de d√≠gitos
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
En el dise√±o de sistemas DSP, se dice que la se√±al es de 
\series bold
precisi√≥n finita
\series default
 cuando la representaci√≥n est√° dada por un n√∫mero finito de datos.
\end_layout

\end_inset

.La cuantizaci√≥n es el proceso de convertir una se√±al discreta en el tiempo
 de amplitud continua, a una se√±al digital, representando cada valor muestreado
 como un n√∫mero finito de d√≠gitos.
 La Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Ejemplo-de-cuantizaci√≥n"

\end_inset

 muestra la representaci√≥n gr√°fica de una se√±al cuantizada.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/quantization_example.eps
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Ejemplo de cuantizaci√≥n en una se√±al senoidal.
 Los puntos marcados con una 
\begin_inset Quotes fld
\end_inset

x
\begin_inset Quotes frd
\end_inset

 representan la se√±al original, mientras que las coordenadas marcadas con
 
\begin_inset Quotes fld
\end_inset

‚Äì
\begin_inset Quotes frd
\end_inset

 muestran la se√±al cuantizada 
\begin_inset CommandInset label
LatexCommand label
name "fig:Ejemplo-de-cuantizaci√≥n"

\end_inset

.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Este proceso induce un error llamado 
\emph on
error de
\emph default
 
\emph on
cuantizaci√≥n, 
\emph default
el cual se debe al cambio en la representaci√≥n de la se√±al original, de
 un valor continuo a un set de valores discretos.
 En t√©rminos matem√°ticos, la operaci√≥n de cuantizaci√≥n de las muestras 
\begin_inset Formula $\mathit{\mathbf{x(n)}}$
\end_inset

 se denota como 
\begin_inset Formula $\mathbf{Q[x(n)]}$
\end_inset

.
 Tomando 
\begin_inset Formula $\mathbf{x_{q}(n)}$
\end_inset

 como la secuencia de muestras cuantizadas, el sistema completo queda como:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\mathbf{x_{q}(n)}\mathbf{=Q[x(n)]}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
El error de cuantizaci√≥n es representado por la secuencia 
\begin_inset Formula $\mathbf{e_{q}(n)}$
\end_inset

, como la diferencia entre los valores cuantizados y el valor de la muestra
 actual:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\mathbf{e_{q}x(n)=x_{q}(n)-x(n)}
\end{equation}

\end_inset


\end_layout

\begin_layout Subsection
Sistemas Discretos Lineales e Invariantes en el Tiempo.
\end_layout

\begin_layout Standard
La relaci√≥n entrada/salida de de los sistemas 
\emph on
Lineales e Invariantes en el Tiempo
\emph default
 (LTI, por sus siglas en ingl√©s) est√° definida por la 
\emph on
convoluci√≥n 
\emph default
en tiempo discreto de la respuesta del impulso finito aplicado a la entrada
 del sistema.
\end_layout

\begin_layout Standard
Los sistemas LTI pueden ser clasificados en dos tipos, dependiendo de si
 su respuesta al impulso tiene duraci√≥n finita o infinita, estos son:
\emph on
 Respuesta al Impulso Finito
\emph default
 (FIR, por sus siglas en ingl√©s) o 
\emph on
Respuesta al Impulso Infinito
\emph default
 (IIR, por sus siglas en ingl√©s).
\end_layout

\begin_layout Standard
En t√©rminos matem√°ticos, se dice que un sistema es lineal cuando, por ejemplo,
 dos se√±ales de entrada 
\begin_inset Formula $\mathbf{x_{1}(t)}$
\end_inset

 y 
\begin_inset Formula $\mathbf{x_{2}(t)}$
\end_inset

 tienen salidas 
\begin_inset Formula $\mathbf{y_{1}(t)}$
\end_inset

 y 
\begin_inset Formula $\mathbf{y_{2}(t)}$
\end_inset

 respectivamente.
 Entonces, la salida del sistema al impulso 
\begin_inset Formula $\mathbf{\alpha_{1}x_{1}(t)+\alpha_{2}x_{2}(t)}$
\end_inset

 es 
\begin_inset Formula $\mathbf{\alpha_{1}y_{1}(t)+\alpha_{2}y_{2}(t)}$
\end_inset

.
 Es decir, cumplen con las reglas de 
\emph on
homogeneidad 
\emph default
y 
\emph on
superposici√≥n.
\end_layout

\begin_layout Standard
Tambi√©n, un sistema es invariante en el tiempo cuando 
\begin_inset Formula $\mathbf{y(t)}$
\end_inset

 es la salida correspondiente a 
\begin_inset Formula $\mathbf{x(t)}$
\end_inset

, entonces para cada 
\series bold
ùúè
\series default
, 
\begin_inset Formula $\mathrm{\mathbf{y(t-\tau)}}$
\end_inset

 es la salida que corresponde a 
\begin_inset Formula $\mathbf{x(t-\tau)}$
\end_inset

.
 Es decir, si agregamos un retraso a la entrada o salida, el resultado debe
 ser exactamente el mismo.
\end_layout

\begin_layout Standard
Adem√°s, los 
\emph on
sistemas LTI
\series bold
 
\series default
\emph default
deben ser causales, lo que significa que la salida del sistema no puede
 anticipar la entrada del mismo, tal que, para todo impulso de entrada 
\begin_inset Formula $\mathbf{\delta(t)}$
\end_inset

, la salida 
\begin_inset Formula $\mathbf{h(t)=0}$
\end_inset

 mientras 
\begin_inset Formula $\mathbf{t<0}$
\end_inset

 .
\end_layout

\begin_layout Standard
Otra caracter√≠stica que debe cumplir, es la de ser un sistema sin memoria.
 Se dice que un sistema tiene memoria cuando la se√±al de salida depende
 de las entradas pasadas y/o futuras.
 Por ejemplo, la ecuaci√≥n del c√°lculo del voltaje de un resistor representa
 un sistema sin memoria dado que 
\begin_inset Formula $\mathbf{v(t)=Ri(t)}$
\end_inset

, mientras que el voltaje en un capacitor representa un sistema con memoria
 por su ecuaci√≥n 
\begin_inset Formula $\mathbf{v(t)=v(t_{0})+\int_{t_{0}}^{t}i(\tau)d\tau}$
\end_inset

.
\end_layout

\begin_layout Standard
En t√©rminos de hardware, todos los 
\emph on
sistemas LTI
\emph default
 pueden ser implementados a base de sumadores, multiplicadores y unidades
 de retraso.
 Estos sistemas son f√°cilmente realizables dado que se basan a partir de
 un n√∫mero finito de elementos, como los antes mencionados.
\end_layout

\begin_layout Standard
Las siguientes subsecciones resumen conceptos importantes que son utilizados
 en cualquier aplicaci√≥n y dise√±o de sistemas DSP.
\end_layout

\begin_layout Subsubsection
Convoluci√≥n.
\end_layout

\begin_layout Standard
La convoluci√≥n es la forma matem√°tica de combinar dos se√±ales para formar
 una tercera.
 Es la t√©cnica m√°s importante en el Procesamiento Digital de Se√±ales.
 Usando la estrategia de la descomposici√≥n del impulso, los sistemas pueden
 ser descritos por una se√±al llamada 
\emph on
respuesta al impulso.

\emph default
 La convoluci√≥n es importante porque relaciona las tres se√±ales de inter√©s:
 la se√±al de entrada, la se√±al de salida y la se√±al de respuesta al impulso.
 
\end_layout

\begin_layout Standard
Un punto fundamental a comprender de los sistemas DSP, es que estos trabajan
 descomponiendo la se√±al de entrada en simples componentes aditivos, cada
 uno de estos componentes se pasa a trav√©s de un sistema linear, y los component
es de salida resultantes son sintetizados, o en otras palabras, sumados.
 Esta descomposici√≥n se puede hacer de dos formas distintas: 
\emph on
Descomposici√≥n por impulsos
\series bold
 
\series default
\emph default
y 
\emph on
Descomposici√≥n por el m√©todo de Fourier.
 
\emph default
Cuando la Descomposici√≥n por impulsos es utilizada, el procedimiento se
 puede describir matem√°ticamente utilizando la 
\series bold
convoluci√≥n.
\end_layout

\begin_layout Standard
Esta operaci√≥n se basa en dos t√©rminos importantes en los sistemas DSP.
 El primero es la 
\series bold
funci√≥n delta, 
\series default
simbolizada por 
\begin_inset Formula $\mathbf{\mathbf{\mathbf{\delta}[n]}}$
\end_inset

 .
 La funci√≥n delta es un impulso normalizado, que es, la muestra n√∫mero cero
 con un valor asignado de una unidad, mientras que las otras muestras tienen
 asignadas un valor de cero.
 Por esta raz√≥n, la funci√≥n delta es llamada 
\series bold
unidad de impulso.

\series default
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/delta.png
	scale 90

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Funci√≥n 
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
\lang english
delta graficada.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Por otra parte, la 
\series bold
respuesta al impulso
\series default
 es la se√±al que existe en el sistema cuando una funci√≥n delta es aplicada
 a la entrada.
 Si dos sistemas son diferentes en cualquier manera, ambos tendr√°n diferentes
 respuestas al impulso.
 Com√∫nmente, las respuestas a la entrada y salida son llamadas 
\begin_inset Formula $\mathbf{x[n]}$
\end_inset

 y 
\begin_inset Formula $\mathbf{y[n]}$
\end_inset

, la respuesta al impulso es usualmente llamada 
\begin_inset Formula $\mathbf{h[n]}$
\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/impulse.png
	scale 90

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Funci√≥n 
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
\lang english
de 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
\lang spanish-mexico
respuesta
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
\lang english
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
\lang spanish-mexico
al
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
\lang english
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\uuline default
\uwave default
\noun default
\color inherit
\lang spanish-mexico
impulso
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
\lang english
 graficada.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
En otras palabras, una se√±al de entrada 
\begin_inset Formula $\mathbf{x[n]}$
\end_inset

 , entra en un sistema linear con una respuesta al impulso 
\begin_inset Formula $\mathbf{h[n]}$
\end_inset

, resultando en una se√±al de salida 
\begin_inset Formula $\mathbf{y[n]}$
\end_inset

 .
 En forma matem√°tica, la ecuaci√≥n de convoluci√≥n de una sola muestra queda
 como se muestra a continuaci√≥n:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\mathbf{y[n]=x[n]*y[n]}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Tomando la ecuaci√≥n 3.5 como gu√≠a, siendo 
\begin_inset Formula $\mathbf{x[n]}$
\end_inset

 una se√±al de 
\emph on
N
\emph default
 puntos, desplaz√°ndose desde 0 a 
\emph on
N-1
\emph default
, y 
\begin_inset Formula $\mathbf{h[n]}$
\end_inset

 una se√±al de 
\emph on
M
\emph default
 puntos desplaz√°ndose de 0 a 
\emph on
M-1
\emph default

\begin_inset CommandInset citation
LatexCommand cite
key "dspguide_conv"

\end_inset

 , la convoluci√≥n de ambas se√±ales es una se√±al 
\emph on
N+M-1
\emph default
ejecut√°ndose desde 0 a 
\emph on
N+M-2
\emph default
, esto es:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\mathbf{y[i]=\sum_{j=0}^{M-1}h[j]}\mathbf{x[i-j]}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
La ecuaci√≥n anterior representa la definici√≥n formal de la convoluci√≥n,
 la cual tambi√©n es conocida como la 
\emph on
suma de convoluci√≥n
\emph default
 o 
\emph on
convoluci√≥n discreta.
\end_layout

\begin_layout Standard
Un ejemplo de la convoluci√≥n tomando como vectores de entrada 
\begin_inset Formula $\mathbf{\overrightarrow{v}_{actual}=[v_{1,}v_{2}...}\mathbf{v_{n}]}$
\end_inset

 y 
\begin_inset Formula $\mathbf{\overrightarrow{v}_{anterior}=[v_{n,}v_{n-1}...}\mathbf{v_{1}]}$
\end_inset

 se muestra en la Figura
\series bold
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Convoluci√≥n-de-dos"

\end_inset

.
 
\end_layout

\begin_layout Standard
En el 
\series bold
Ap√©ndice C
\series default
 se muestra el script interactivo que se puede ejecutar en el ambiente de
 Matlab, el cual fue tomado de 
\begin_inset CommandInset citation
LatexCommand cite
key "eece_matlab"

\end_inset

.
 Este script muestra el resultado de la convoluci√≥n discreta de dos impulsos
 
\begin_inset Formula $\mathbf{y[n]=\delta[n]*\delta[n-1]}$
\end_inset

 , tomando como vector a 
\begin_inset Formula $\mathbf{n=[1,0,1]}$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/convolve.eps
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Convoluci√≥n-de-dos"

\end_inset

Convoluci√≥n de dos vectores en Matlab.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Filtros FIR.
\end_layout

\begin_layout Standard
Un filtro digital de 
\emph on
Respuesta Finita al Impulso
\emph default
 (FIR) es un 
\emph on
sistema LTI
\emph default
 si es definido por un conjunto de coeficientes constantes.
 La salida de un filtro FIR de orden (o longitud) 
\series bold
L
\series default
, a la respuesta de impulso unitario aplicado a la entrada 
\begin_inset Formula $\mathbf{x[n]}$
\end_inset

, est√° dada por una versi√≥n finita de la ecuaci√≥n de convoluci√≥n, como se
 muestra a continuaci√≥n:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\mathbf{y[n]=f[n]*x[n]=\sum_{k=0}^{L-1}f[k]x[n-k]}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Para un tren de impulsos en el dominio del tiempo a la entrada 
\begin_inset Formula $\mathbf{x[n]}$
\end_inset

 , la ecuaci√≥n queda como:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\mathbf{y[n]=b_{0}x(n)+b_{1}x(n-1)+...+b_{M-1}x(n-M+1)}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
=\mathbf{\sum_{k=0}^{M-1}b_{k}x(n-k)}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
En otras palabras, la respuesta al impulso consiste s√≥lo de respuesta en
 los coeficientes, procedida y antecedida por ceros (el filtro producir√°
 una respuesta que ir√° decayendo a cero y se mantendr√° en ese estado, de
 ah√≠ el nombre caracter√≠stico de este filtro).
 Matem√°ticamente se puede expresar esta respuesta al impulso con la siguiente
 ecuaci√≥n:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\mathbf{h(n)=\begin{cases}
b_{n}, & 0\leq n\leq M-1\\
0, & otros
\end{cases}}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Gr√°ficamente, esta ecuaci√≥n se puede representar como se muestra en la Figura
\series bold
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Respuesta-al-impulso"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/fir_filter_impulseresponse_gray.eps
	scale 60

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
Respuesta al impulso de un filtro FIR con 
\begin_inset Formula $\mathbf{b_{0}=0.9}$
\end_inset

.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:Respuesta-al-impulso"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Este tipo de filtros son m√°s populares en cuanto a implementaci√≥n, dado
 que cuentan con caracter√≠sticas muy √∫tiles, entre las cuales destacan:
\end_layout

\begin_layout Itemize

\series bold
\emph on
Fase Lineal: 
\series default
\emph default
Esta propiedad implica que la fase es una funci√≥n lineal de la frecuencia,
 Esto asegura que las se√±ales de todas las frecuencias se retrasan en la
 misma cantidad de tiempo, eliminando la posibilidad de distorsi√≥n de fase.
\end_layout

\begin_layout Itemize

\series bold
\emph on
Estabilidad:
\series default
\emph default
 Para una entrada finita, la salida siempre es finita, adem√°s son no recursivos,
 es decir, no hay una conexi√≥n de retro alimentaci√≥n envuelta en la estructura
 del filtro.
\end_layout

\begin_layout Standard
Existen muchos m√©todos de implementaci√≥n de esto filtros, la estructura
 m√°s b√°sica es conocida como 
\emph on
forma directa, 
\emph default
la cual consta de utilizar la ecuaci√≥n en diferencia, no recursiva, mostrada
 en (3.7)
\begin_inset CommandInset citation
LatexCommand cite
key "fir_complete"

\end_inset

, lo que es equivalente a la sumatoria convolucional.
 La estructura se muestra en la Figura
\series bold
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Estructura-en-Forma"

\end_inset


\series default
, el cual representa un filtro con un n√∫mero de coeficientes 
\begin_inset Formula $\mathbf{b_{0..3}+1}$
\end_inset


\series bold
.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset CommandInset include
LatexCommand input
filename "misc/fir_filter_lyx.tex"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Estructura en Forma Directa de un Filtro FIR
\begin_inset CommandInset label
LatexCommand label
name "fig:Estructura-en-Forma"

\end_inset

.
 Imagen creada usando el paquete 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textup{Ti
\backslash
textit{k}Z}
\end_layout

\end_inset

 de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
LaTeX
\end_layout

\end_inset

 
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
En t√©rminos generales, existen cuatro formas b√°sicas de implementaci√≥n de
 este tipo de filtros, las cuales son:
\end_layout

\begin_layout Itemize
M√©todo por ventanas (Rectangular, Barlett, Hanning, Hamming, Blackman y
 Kaiser).
\end_layout

\begin_layout Itemize
Muestreo en frecuencia.
\end_layout

\begin_layout Itemize
Aproximaci√≥n de Chebyshev y algoritmo de intercambio de Remez (conocido
 como m√©todo de Rizado Constante).
\end_layout

\begin_layout Itemize
M√≠nimos Cuadrados.
\end_layout

\begin_layout Standard
La implementaci√≥n m√°s popular utilizada en FPGA es la del M√©todo por ventanas
 debido a que muchos de los paquetes de software incluidos en las herramientas
 de dise√±o de filtros, utilizan este m√©todo como el principal, lo cual recorta
 el tiempo de desarrollo del mismo.
 
\end_layout

\begin_layout Subsubsection
Filtros IIR.
\end_layout

\begin_layout Standard
El sistema de Respuesta Infinita al Impulso (
\emph on
IIR
\emph default
 por sus siglas en ingl√©s) se caracteriza por utilizar las muestras de la
 se√±al de salida en instantes anteriores en adici√≥n a las muestras presentes
 m√°s las muestras pasadas de la misma funci√≥n de salida, es decir, este
 filtro cuenta con lazos de 
\emph on
retro alimentaci√≥n 
\emph default
y 
\emph on
anticipaci√≥n, 
\emph default
por lo que es conocido como un 
\series bold
sistema discreto recursivo
\series default
, a diferencia del filtro FIR que se caracteriza por ser 
\series bold
no recursivo
\series default
, esto significa que la funci√≥n de salida del filtro puede continuar indefinidam
ente a√∫n cuando la entrada tienda a cero y permanezca en cero.
\end_layout

\begin_layout Standard
El filtro IIR es un sistema de clase lineal, invariante en el tiempo que
 se representa en funci√≥n de una ecuaci√≥n en diferencia:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
y\left[n\right]=\sum_{k=1}^{N}a_{k}y\left[n-k\right]+\sum_{k=0}^{M}b_{k}x\left[n-k\right]
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
La primera suma representa la parte 
\begin_inset Quotes eld
\end_inset

auto-regresiva
\begin_inset Quotes erd
\end_inset

 o la parte IIR, y la segunda suma representa el 
\begin_inset Quotes eld
\end_inset

promedio m√≥vil
\begin_inset Quotes erd
\end_inset

 o la parte FIR
\begin_inset CommandInset citation
LatexCommand cite
key "ECE423_lectures_IIR"

\end_inset

.
\end_layout

\begin_layout Standard
Estos filtros 
\emph on
IIR 
\emph default
tienen una relaci√≥n con los dem√°s filtros en tiempo continuo.
 Ambos tienen respuesta al impulso de longitud infinita y son descritos
 por funciones de transferencia racionales en el dominio de la frecuencia.
 El m√©todo en que estos filtros se dise√±an, a partir de estructuras discretas,
 es usando m√©todos de aproximaci√≥n num√©rica, como los m√©todos de 
\emph on
Chevysheb
\emph default
, 
\emph on
Butterworth
\emph default
 o 
\emph on
Bessel
\emph default
, adem√°s de que es posible utilizar un gran n√∫mero de tablas pre dise√±adas,
 disponibles en los libros afines al tema en cuesti√≥n
\begin_inset CommandInset citation
LatexCommand cite
key "iir_0"

\end_inset

.
 
\end_layout

\begin_layout Standard
Dado que este tipo de filtros no ser√°n utilizados en el marco metodol√≥gico
 de este documento, s√≥lo se abarcar√°n las caracter√≠sticas fundamentales
 de ellos.
\end_layout

\begin_layout Standard
El formato de implementaci√≥n del filtro IIR utilizando el 
\series bold
\emph on
m√©todo de Chevysheb
\series default
\emph default
 minimiza la diferencia absoluta entre la respuesta en frecuencia ideal
 y la actual sobre toda la banda de paso mediante la incorporaci√≥n de rizo
 uniforme en la banda de paso.
 La transici√≥n desde la banda de paso hacia la banda de corte es m√°s r√°pida
 que en el formato 
\emph on
Butterworth.
\end_layout

\begin_layout Standard
El filtro de 
\series bold
\emph on
Butterworth 
\series default
\emph default
representa la mejor aproximaci√≥n de un filtro ideal pasa bajas en frecuencias
 anal√≥gicas.
 La respuesta en la banda de paso y la banda de corte es m√°ximamente plana
\begin_inset CommandInset citation
LatexCommand cite
key "Xilinx_IIR_impl"

\end_inset

.
\end_layout

\begin_layout Standard
El filtro de 
\series bold
\emph on
Bessel 
\series default
\emph default
no se puede implementar digitalmente utilizando muchas las herramientas
 comerciales de modelado matem√°tico, por esta raz√≥n, no es muy com√∫n en
 el campo del dise√±o DSP.
 Adem√°s, estos filtros requieren un orden m√°s alto, por lo que la utilizaci√≥n
 de elementos discretos para su implementaci√≥n se dispara, volviendo al
 filtro de 
\emph on
Bessel 
\emph default
muy complicado en t√©rminos de implementaci√≥n.
\end_layout

\begin_layout Standard
La estructura de un filtro IIR se puede representar mediante la ecuaci√≥n
 3.11, en donde se puede observar que es similar a tener un filtro FIR que
 comprende los coeficientes de 
\series bold
b 
\series default
y otro filtro FIR inverso con los coeficientes de 
\series bold
a
\series default
, como se muestra en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Estructura-IIR"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset CommandInset include
LatexCommand input
filename "misc/iir_filter_lyx.tex"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Estructura en Forma Directa de un Filtro IIR
\begin_inset CommandInset label
LatexCommand label
name "fig:Estructura-IIR"

\end_inset

.
 Imagen creada usando el paquete 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textup{Ti
\backslash
textit{k}Z}
\end_layout

\end_inset

 de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
LaTeX
\end_layout

\end_inset

 
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Section
Plataformas FPGA.
\end_layout

\begin_layout Subsection
Descripci√≥n general.
\end_layout

\begin_layout Standard
La Matriz de Compuertas Programables en Campo (FPGA) es un circuito integrado
 reconfigurable que puede ser utilizado para dise√±ar circuitos digitales.
 La configuraci√≥n de la FPGA es normalmente especificada usando lenguajes
 de descripci√≥n de hardware como SystemVerilog o VHDL y despu√©s es traducida,
 mediante herramientas de s√≠ntesis, a un formato binario en el cual se encuentra
 la informaci√≥n de ruteo e interconexiones necesarias para que el dispositivo
 ejecute las funciones l√≥gicas para el cual fue dise√±ado.
 Esta propiedad de ser reconfigurable y poder ejecutar m√∫ltiples tareas
 tan complejas o sencillas, de forma paralela, ofrece una significante ventaja
 en muchas aplicaciones como por ejemplo en el dise√±o de circuitos integrados
 donde a diferencia del prototipado con ASIC, en donde los dise√±adores no
 tienen la flexibilidad de hacer modificaciones al prototipo despu√©s de
 que el chip ha sido manufacturado, en el FPGA es posible y muy com√∫n el
 modificar algunas partes del circuito despu√©s de que el proyecto ha sido
 concluido.
\end_layout

\begin_layout Standard
\noindent
La arquitectura de una FPGA se basa en Bloques de Matrices Configurables
 (CLBs, por sus siglas en Ingl√©s), las cuales proporcionan la l√≥gica programable
 y una jerarqu√≠a de interconexiones reconfigurables para interconectar los
 CLBs entre s√≠.
 Adem√°s de estos componentes b√°sicos, las FPGA actuales contienen bloques
 de memoria internos, controladores para interfaces externas de alta velocidad
 como memorias DDR y bloques f√≠sicos de PCI Express, as√≠ como bloques optimizado
s para operaciones de DSP, microprocesadores f√≠sicos y algunas funciones
 especiales m√°s, que dependen del enfoque o familia de la FPGA, todo esto
 en el mismo silicio.
\end_layout

\begin_layout Standard
La tendencia reciente en la tecnolog√≠a FPGA es trabajar con arquitecturas
 de hardware en alto nivel de abstracci√≥n, agregarle bloques DSP, procesadores
 embebidos y transductores de alta velocidad para formar un Sistema Programable
 en Chip completo (SoPC).
 Adem√°s, las FPGA toman ventaja del paralelismo natural del hardware, ya
 que exceden el poder computacional de los Procesadores Digitales de Se√±ales,
 rompiendo el paradigma de la ejecuci√≥n secuencial y lograr un mayor rendimiento.
\end_layout

\begin_layout Standard
\noindent
Una de las aplicaciones principales de las FPGA es poder ejecutar y modificar
 arquitecturas digitales m√∫ltiples veces, hasta que se ha cumplido el objetivo
 del prototipo que se estableci√≥ al principio, sin ser necesario recurrir
 a los costosos procesos de fabricaci√≥n de Circuitos Integrados personalizados.
 Gracias a esto, se pueden implementar dise√±os de manera incremental e incluso
 hacer cambios iterativamente en cuesti√≥n de horas en lugar de semanas.
 Tambi√©n, debido a la creciente oferta de herramientas de dise√±o en alto
 nivel, se ha decrementado la curva de aprendizaje y con frecuencia, estas
 herramientas incluyen valiosas Propiedades Intelectuales (IP) para control
 y procesamiento de se√±ales avanzadas.
\end_layout

\begin_layout Standard
Existe una numerosa cantidad de fabricantes pero s√≥lo dos tipos de FPGAs:
 Reprogramables (basadas en SRAM o Flash) y Programables una sola vez (OTP).
 Las FPGAs basadas en SRAM necesitan una memoria de configuraci√≥n y no retienen
 los datos cuando son desconectadas de la fuente de alimentaci√≥n.
 Las que son basadas en Flash, no necesitan una memoria externa para almacenar
 la configuraci√≥n y la pueden mantener a√∫n cuando el dispositivo no est√°
 energizado.
 Anteriormente, las FPGAs basadas en Flash ten√≠an la caracter√≠stica de ser
 OTP, pero hoy en d√≠a existen dispositivos basados en esta tecnolog√≠a que
 pueden ser reprogramados tales como las MAX-10
\lang spanish
¬Æ
\lang spanish-mexico
 de Altera
\lang spanish
¬Æ
\lang spanish-mexico
.
\end_layout

\begin_layout Standard
\noindent
En la pr√≥xima secci√≥n se cubrir√° a detalle, la arquitectura de la familia
 Spartan-6
\lang spanish
¬Æ
\lang spanish-mexico
 de Xilinx
\lang spanish
¬Æ
\lang spanish-mexico
, ya que es esta la que se encuentra en el kit de desarrollo Atlys de Digilent
\lang spanish
¬Æ
\lang spanish-mexico
.
\end_layout

\begin_layout Subsection
Estructura general de las FPGA.
\end_layout

\begin_layout Standard
\noindent
Como se mencion√≥ anteriormente, las FPGA modernas ofrecen una serie de component
es que son de gran utilidad al momento de dise√±ar sistemas digitales.
 Estos b√°sicamente son:
\end_layout

\begin_layout Itemize
\paragraph_spacing double
\noindent
Bloques L√≥gicos Configurables (CLB) para poder implementar funciones l√≥gicas
 as√≠ como registros.
\end_layout

\begin_layout Itemize
\paragraph_spacing double
\noindent
Memoria en Chip (On-chip memory) que provee almacenamiento de datos dentro
 del FPGA, generalmente es reducido dado que el √°rea de construcci√≥n de
 memoria en el silicio, tiende a ocupar gran parte de este.
\end_layout

\begin_layout Itemize
\paragraph_spacing double
\noindent
Propiedades Intelectuales f√≠sicas, tales como controladores Ethernet MAC,
 Transductores, Multiplicadores optimizados, bloques DSP, Procesadores,
 Controladores de memoria externa DDR, PCIe endpoint f√≠sico, etc.
\end_layout

\begin_layout Itemize
\paragraph_spacing double
\noindent
Recursos de manejo de reloj que generen las frecuencias necesarias para
 controlar dispositivos como los antes mencionados y que adem√°s, puedan
 ser distribuidos dentro de la FPGA.
 Esto es muy importante al momento de dise√±ar sistemas con un alto √≠ndice
 de transferencia de datos.
\end_layout

\begin_layout Itemize
\paragraph_spacing double
\noindent
Bloques de entrada y salida que comuniquen a la FPGA al mundo exterior.
\end_layout

\begin_layout Itemize
\paragraph_spacing double
\noindent
Recursos de ruteo para proveer la interconectividad de los Bloques L√≥gicos
 Configurables internos y las Propiedades Intelectuales.
\end_layout

\begin_layout Standard
\noindent
La Figura
\series bold
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Arquitectura-general-de"

\end_inset

 
\series default
muestra la arquitectura t√≠pica de una FPGA con los bloques de construcci√≥n
 b√°sicos.
 Es importante mencionar que algunos elementos como las Block RAM, bloques
 DSP, controladores de memoria, etc√©tera, que se muestran en la imagen,
 son construidos sobre el mismo silicio, sin quitarle espacio a los elementos
 l√≥gicos.
 Tambi√©n cabe mencionar que, las Tablas de B√∫squeda, mejor conocidas como
 Look Up Tables (LUT) que hay dentro de los bloques l√≥gicos son usadas para
 crear funciones de l√≥gica combinacional, pero tambi√©n pueden ser configuradas
 como memorias RAM o registros de desplazamiento.
 Esta es una forma muy eficiente de inferir dichos registros sin tener que
 usar los elementos de almacenamiento.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/fpga_arch.eps
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Arquitectura general de las FPGA
\begin_inset CommandInset citation
LatexCommand cite
key "x6vs"

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:Arquitectura-general-de"

\end_inset

.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Arquitectura de la familia de FPGAs Spartan-6
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{}
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
\noindent
La familia Spartan-6
\lang spanish
¬Æ
\lang spanish-mexico
 est√° fuertemente enfocada a proveer capacidades de integraci√≥n de sistemas
 con el menor costo posible para aplicaciones de alto volumen, es decir,
 es una l√≠nea de dispositivos que tienen bloques de comunicaci√≥n de alta
 velocidad como PCI Express, controladores de memoria externa DDR3 y Ethernet,
 entre otros.
 Adem√°s de una vasta densidad de elementos l√≥gicos y registros disponibles
 que van desde 3,840 hasta 147,443 celdas l√≥gicas, dependiendo del dispositivo
 seleccionado por el dise√±ador.
 Consume la mitad de la potencia comparado con la familia anterior de FPGAs
 Spartan-3
\lang spanish
¬Æ
\lang spanish-mexico
, gracias a que est√°n construidas con una avanzada tecnolog√≠a de 45nm.
 Esta l√≠nea de FPGAs son muy populares ya que son el balance √≥ptimo entre
 costo, potencia y rendimiento
\begin_inset CommandInset citation
LatexCommand cite
key "Xil_DS160"

\end_inset

.
\end_layout

\begin_layout Standard
\noindent
La innovaci√≥n m√°s notable en estas FPGA es la re estructuraci√≥n de la arquitectu
ra interna para implementar LUTs de 6 entradas y doble registro de salida
 en cada LUT, esto significa que una sola LUT puede implementar funciones
 l√≥gicas de 
\begin_inset Formula $2^{6}=64$
\end_inset

bits, como por ejemplo, una RAM de 64 bits o un registro de desplazamiento
 de 32 bits.
 Anteriormente, la arquitectura se basaba en LUTs de 4 entradas, como se
 muestra a continuaci√≥n.
\end_layout

\begin_layout Standard
\paragraph_spacing double
\noindent
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/6input.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LUT de seis entradas
\begin_inset CommandInset citation
LatexCommand cite
key "clb_ov"

\end_inset

.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\noindent
Adem√°s, la familia Spartan-6
\lang spanish
¬Æ
\lang spanish-mexico
 incluye bloques de memoria RAM (BRAM) de 18Kb, una optimizaci√≥n de dispositivos
 DSP48A1 los cuales sirven para ejecutar c√°lculos complejos de manera paralela,
 controladores f√≠sicos de memoria SDRAM, bloques de manejo de reloj internos
 mejorados para poder generar las frecuencias necesarias para controladores
 de alta velocidad, as√≠ como opciones de configuraci√≥n y seguridad de IP
 m√°s avanzados.
\end_layout

\begin_layout Standard
\paragraph_spacing double
\noindent
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/blockd.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Diagrama a bloques de una FPGA Spartan-6
\lang spanish
¬Æ
\lang spanish-mexico
, ilustraci√≥n de: 
\begin_inset CommandInset citation
LatexCommand cite
key "clb_ov"

\end_inset

.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\noindent
Debido a la construcci√≥n en 45nm, se han podido incorporar una mayor cantidad
 de CLBs en esta familia de FPGAs.
 Los CLBs son los recursos l√≥gicos principales necesarios para implementar
 circuitos secuenciales y combinatorios.
 Cada elemento CLB es conectado a una matriz de switches programables para
 acceder a otra matriz de ruteo como se muestra en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Bloque-L√≥gico-Configurable."

\end_inset

.
 Cada elemento CLB contiene un par de SLICEs.
 Estos dos SLICEs no tienen una conexi√≥n directa entre si.
 Cada SLICE tiene un bloque de acarreo en cadena (carry chain).
\end_layout

\begin_layout Standard
\paragraph_spacing double
\noindent
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/spartan_arch.eps
	display false
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Bloque L√≥gico Configurable.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:Bloque-L√≥gico-Configurable."

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\noindent
Cada SLICE contiene cuatro LUTs, cuatro elementos de almacenamiento (flip
 flop), un amplio n√∫mero de multiplexores y un bloque de acarreo l√≥gico.
 Esos elementos son usados por todos los SLICEs para proveer las funciones
 l√≥gicas, aritm√©ticas y algunos tipos de memoria ROM.
 Adicionalmente, algunos SLICEs pueden implementar dos funciones adicionales:
 almacenar datos al adoptar la funci√≥n de RAM distribuida y desplazar datos
 adoptando la funci√≥n de registro de desplazamiento de 32 bits.
 Son llamados SLICEM (terminaci√≥n M por Memoria), los comunes son llamados
 SLICEL (terminaci√≥n L por L√≥gico).
\end_layout

\begin_layout Standard
\noindent
La Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Estructura-detallada-de"

\end_inset

 describe con detalle la arquitectura de cada SLICE en un CLB.
 Los multiplexores antes mencionados sirven para proveer la conectividad
 entre los recursos l√≥gicos que rodean a los CLBs, mientras que la red de
 elementos de acarreo en cadena dentro de los CLBs, hacen la funci√≥n de
 ruteo para generar sumadores l√≥gicos m√°s eficientes.
\end_layout

\begin_layout Standard
\paragraph_spacing double
\noindent
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/slice_struct.png
	scale 90

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Estructura detallada de un SLICE
\begin_inset CommandInset citation
LatexCommand cite
key "clb_ov"

\end_inset

.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:Estructura-detallada-de"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\noindent
Los dispositivos Spartan-6
\lang spanish
¬Æ
\lang spanish-mexico
 cuentan con un gran n√∫mero de memorias BRAM de 18Kb, las cuales est√°n construid
as por dos memorias controladas independientemente de 9Kb cada una.
 Estas memorias son colocadas en columnas, el n√∫mero total de ellas depende
 del tama√±o del dispositivo Spartan-6
\lang spanish
¬Æ
\lang spanish-mexico
.
 Las memorias BRAM se pueden utilizar en cascada para habilitar implementaciones
 de mayor tama√±o de Kilobits, con un peque√±o impacto en el timing.
 La Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Block-RAM-de"

\end_inset

 muestra una BRAM en cascada con dos distintos puertos de lectura y escritura.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/bram_block.png
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Block RAM de doble puerto
\begin_inset CommandInset citation
LatexCommand cite
key "clb_ov"

\end_inset

.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:Block-RAM-de"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Kit de desarrollo Atlys.
\end_layout

\begin_layout Standard
El sistema de desarrollo Atlys fabricado por Digilent
\lang spanish
¬Æ
\lang spanish-mexico
 bajo el programa Xilinx
\lang spanish
¬Æ
\lang spanish-mexico
 University Program es la plataforma seleccionada para cumplir con los objetivos
 de esta investigaci√≥n.
 Este kit es una plataforma avanzada para el desarrollo de sistemas digitales.
 Est√° basada en un dispositivo FPGA Xilinx Spartan-6
\lang spanish
¬Æ
\lang spanish-mexico
 LX45, la familia LX est√° optimizada para implementaciones l√≥gicas de alto
 rendimiento
\begin_inset CommandInset citation
LatexCommand cite
key "Digilent_atlys"

\end_inset

.
 
\end_layout

\begin_layout Standard
Los perif√©ricos que se incluyen son de gama alta, tales como controladores
 Gigabit Ethernet, entrada y salida de video HDMI, memoria RAM DDR2 de 128
 Megabytes de almacenamiento en un bus de 16 bits, adem√°s de puertos de
 USB host y entrada y salida de audio a trav√©s de un c√≥dec AC97.
 Este kit es compatible con toda la suite de dise√±o de Xilinx
\lang spanish
¬Æ
\lang spanish-mexico
 ISE
\lang spanish
¬Æ
\lang spanish-mexico
, por lo que se pueden implementar una gran variedad de dise√±os para diferentes
 √°reas de investigaci√≥n con un costo relativamente bajo.
\end_layout

\begin_layout Standard
Las principales caracter√≠sticas t√©cnicas de esta plataforma se muestran
 a continuaci√≥n:
\end_layout

\begin_layout Itemize
FPGA Spartan-6
\lang spanish
¬Æ
\lang spanish-mexico
 LX45 con 6,822 slices, cada una contiene 4 LUTS de 6 entradas y 8 flip-flops,
 con una frecuencia m√°xima de ejecuci√≥n a 500MHz.
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Para una mayor comprensi√≥n de estas caracter√≠sticas t√©cnicas, referirse
 a la secci√≥n 
\series bold
\emph on

\begin_inset Quotes eld
\end_inset

4.3 Arquitectura de la familia de FPGAs Xilinx Spartan-6
\begin_inset Quotes erd
\end_inset


\emph default
 
\series default
de este documento.
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
58 DSP slices (elementos l√≥gicos optimizados para operaciones de DSP).
 
\end_layout

\begin_layout Itemize
Oscilador CMOS a 100 MHz como reloj base para PLL/DCM.
\end_layout

\begin_layout Itemize
C√≥dec de audio AC97 con l√≠neas de entrada/salida de audio y auriculares.
\end_layout

\begin_layout Itemize
Dos entradas y dos salidas de video HDMI.
\end_layout

\begin_layout Standard
Entre algunas otras.
 En la Figura
\series bold
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Kit-de-desarrollo"

\end_inset

 
\series default
se puede observar una imagen de esta plataforma.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/atlys_kit.eps
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Kit de desarrollo Atlys Spartan-6 de Digilent, obtenida del sitio web del
 fabricante
\begin_inset CommandInset citation
LatexCommand cite
key "Digilent_atlys"

\end_inset

.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:Kit-de-desarrollo"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Section
Plataformas de Software para el dise√±o de sistemas DSP.
\end_layout

\begin_layout Subsection
Introducci√≥n a Matlab
\lang spanish

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{
\end_layout

\end_inset


\lang spanish-mexico
 y Simulink
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{}
\end_layout

\end_inset

.
\end_layout

\begin_layout Subsubsection
Matlab
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{}
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
\noindent
El nombre de esta herramienta proviene de recortar y unir las palabras 
\series bold
MAT
\series default
rix 
\series bold
LAB
\series default
oratory (Laboratorio de Matrices), lo cual nos da una referencia de la metodolog
√≠a que utiliza.
 Matlab
\lang spanish
¬Æ
\lang spanish-mexico
 es un sistema interactivo cuyo elemento b√°sico son matrices las cuales,
 no requieren ser dimensionadas.
 Est√° enfocado a resolver problemas t√©cnicos computacionales a trav√©s de
 un ambiente completo donde los problemas y soluciones son expresados en
 una notaci√≥n matem√°tica familiar
\begin_inset CommandInset citation
LatexCommand cite
key "Matlab_overview"

\end_inset

.
 Adem√°s, la integraci√≥n de herramientas para la adquisici√≥n de datos externos
 tales como sonidos e im√°genes, as√≠ como el an√°lisis a trav√©s de aplicaciones
 de visualizaci√≥n como gr√°ficas, hacen de este lenguaje uno de los mas atractivo
s en el √°rea de las ciencias aplicadas.
\end_layout

\begin_layout Standard
\noindent
Lo que hace de Matlab
\lang spanish
¬Æ
\lang spanish-mexico
 una herramienta muy popular en el √°mbito acad√©mico e industrial, es la
 rapidez con la que se pueden implementar y resolver algoritmos de mediana
 a gran complejidad.
 Esto se debe en gran medida a la facilidad que brinda el int√©rprete interactivo
 para crear scripts conocidos como Archivos-M (mejor conocidos como M-files,
 por sus siglas en Ingl√©s) que ayudan a describir sistemas con eficacia,
 as√≠ como el gran n√∫mero de funciones predise√±adas incluidas en los complementos
 conocidos como 
\begin_inset Quotes eld
\end_inset

cajas de herramienta
\begin_inset Quotes erd
\end_inset

 o Toolboxes, los cuales contienen colecciones de funciones para un gran
 rango de disciplinas tales como procesamiento de se√±ales, sistemas de control,
 redes neuronales, l√≥gica difusa, por mencionar algunas.
 Todo esto ayuda a que el usuario implemente sus modelos matem√°ticos en
 cuesti√≥n de horas y no d√≠as, comparado con lenguajes compilados no interactivos
 como C o Fortran.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename img/matlab_env.eps
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Interfaz Gr√°fica de usuario de Matlab
\lang spanish
¬Æ
\lang spanish-mexico
.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\noindent
Matlab
\lang spanish
¬Æ
\lang spanish-mexico
 es considerado un lenguaje de programaci√≥n de alto nivel, debido a la gran
 abstracci√≥n de datos con los que trabaja.
 Algunas propiedades importantes de esta herramienta son:
\end_layout

\begin_layout Itemize
\noindent
El tipo de datos por defecto es una matriz de doble precisi√≥n, lo que significa
 que se pueden representar n√∫meros desde 0 a 
\begin_inset Formula $1.7977e+308$
\end_inset

.
\end_layout

\begin_layout Itemize
Es un lenguaje orientado a objetos, lo cual resulta en una mejora en el
 manejo de la complejidad de aplicaciones y estructuras de datos.
 
\end_layout

\begin_layout Itemize
Los algoritmos dise√±ados en este paquete de software, pueden ser convertidos
 a c√≥digo en lenguaje C, HDL y/o PLC, para ser ejecutados en dispositivos
 embebidos.
\end_layout

\begin_layout Itemize
Matlab
\lang spanish
¬Æ
\lang spanish-mexico
 en conjunto con Simulink
\lang spanish
¬Æ
\lang spanish-mexico
, tienen soporte para la herramienta de dise√±o DSP de Xilinx
\lang spanish
¬Æ
\lang spanish-mexico
, lo cual convierte a este ambiente en uno de los m√°s atractivos en este
 √°mbito.
\end_layout

\begin_layout Subsubsection
Simulink
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{}
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
Matlab
\lang spanish
¬Æ
\lang spanish-mexico
 tiene una herramienta adicional llamada Simulink
\lang spanish
¬Æ
\lang spanish-mexico
 que proporciona el modelado, la simulaci√≥n y el an√°lisis de sistemas din√°micos,
 dentro de un entorno gr√°fico.
 Este sofwtare permite el dise√±o modular y jer√°rquico, ayudando al usuario
 en el manejo y creaci√≥n de sistemas complejos que son conceptualmente simplific
ados.
 
\end_layout

\begin_layout Standard
Debido a este amplio uso, la capacidad de dise√±ar y verificar las implementacion
es de hardware desde el mismo ambiente de Simulink
\lang spanish
¬Æ
\lang spanish-mexico
, se traduce en una mayor ventaja para el prototipado r√°pido de nuevas teor√≠as
 y dise√±os.
 A√±adiendo las m√∫ltiples capas de software y bibliotecas que habilitan la
 comunicaci√≥n del ambiente gr√°fico de Simulink
\lang spanish
¬Æ
\lang spanish-mexico
 con el mundo exterior, proceso conocido como simulaci√≥n de 
\emph on
hardware-in-the-loop
\emph default
 (co simulaci√≥n con m√≥dulos de adquisici√≥n de datos en hardware, que estimulan
 entradas y/o env√≠an resultados al modelo de Simulink
\lang spanish
¬Æ
\lang spanish-mexico
), proporciona un enorme beneficio adicional en el dise√±o y verificaci√≥n
 del algoritmo sin arriesgar p√©rdidas de hardware o errores de implementaci√≥n
\begin_inset CommandInset citation
LatexCommand cite
key "practical_dsp_algo"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/simulink_environment.eps
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Entorno de modelado gr√°fico Simulink
\lang spanish

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{
\end_layout

\end_inset


\lang spanish-mexico
 de Matlab
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{}
\end_layout

\end_inset

.
 En este ejemplo se puede observar, como se lleva a cabo la ejecuci√≥n de
 un algoritmo de detecci√≥n de elementos en una imagen, utilizando solamente
 8 bloques del 
\emph on
Image Processing Toolbox
\emph default
 de Simulink
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{}
\end_layout

\end_inset

.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Sin embargo, el comportamiento de la simulaci√≥n matem√°tica de Simulink
\lang spanish
¬Æ
\lang spanish-mexico
 en comparaci√≥n con la implementaci√≥n en el hardware, no es exacto.
 Simulink
\lang spanish
¬Æ
\lang spanish-mexico
 permite que c√°lculos de punto flotante complejos sean completados en un
 solo paso 
\begin_inset Quotes eld
\end_inset

virtual
\begin_inset Quotes erd
\end_inset

, mediante el proceso de hacer m√°s lenta la simulaci√≥n para permitir c√°lculos
 precisos,
\end_layout

\begin_layout Standard
En comparaci√≥n, la implementaci√≥n en hardware con FPGA requiere un paso
 de tiempo fijo pre-definido que funciona en tiempo real, mientras que las
 tasas de muestreo de informaci√≥n se pueden ajustar en diferentes puntos
 dentro del hardware para permitir la ejecuci√≥n as√≠ncrona.
 Cada uno de estos procesos se ejecutan de manera coherente con un paso
 de tiempo consistente y una longitud de palabra fija.
 La conversi√≥n entre estas dos formas de ejecuci√≥n, es decir, la simulaci√≥n
 del algoritmo en Simulink
\lang spanish
¬Æ
\lang spanish-mexico
 y la ejecuci√≥n del mismo en elementos de hardware, debe hacerse de una
 manera sistem√°tica en donde se tenga en cuenta estas diferencias de derivaci√≥n
\begin_inset CommandInset citation
LatexCommand cite
key "vehicle_sysgen_xilinx"

\end_inset

.
\end_layout

\begin_layout Subsection
Xilinx
\lang spanish

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{
\end_layout

\end_inset


\lang spanish-mexico
 System Generator
\lang spanish

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{
\end_layout

\end_inset


\lang spanish-mexico
 for DSP.
\end_layout

\begin_layout Subsubsection
Descripci√≥n general.
\end_layout

\begin_layout Standard
El toolbox incluido en la suite de Xilinx ISE, llamado 
\emph on
System Generator
\emph default
\lang spanish
¬Æ
\emph on
\lang spanish-mexico
 for DSP 
\emph default
o en su contracci√≥n, 
\emph on
Sysgen
\emph default
, est√° pensado para resolver el problema de la interfaz entre el mundo de
 la simulaci√≥n matem√°tica de Simulink
\lang spanish
¬Æ
\lang spanish-mexico
, y el mundo tangible del hardware en FPGA.
 
\end_layout

\begin_layout Standard
El desarrollo de algoritmos DSP implica transformar las muestras de entrada
 provenientes de la etapa de conversi√≥n A/D, utilizando numerosas operaciones
 matem√°ticas complejas sobre dichas se√±ales como la convoluci√≥n o la aplicaci√≥n
 de alguna transformaci√≥n como la 
\series bold
\emph on
Transformada R√°pida de Fourier (FFT)
\series default
\emph default
 y adem√°s, es necesario tener el equipo de laboratorio requerido para para
 poder visualizar los espectros de las se√±ales a trav√©s de todo el dise√±o
\begin_inset CommandInset citation
LatexCommand cite
key "using_xilinx_fpgas_dsp"

\end_inset

.
 Todo este proceso se vuelve una labor muy intensa cuando se utilizan t√©cnicas
 tradicionales de RTL en un FPGA.
 
\end_layout

\begin_layout Standard

\emph on
System Generator
\emph default
\lang spanish
¬Æ
\lang spanish-mexico
 es una herramienta de modelado a nivel sistema que facilita el dise√±o de
 hardware en FPGA
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Se recomienda leer la documentaci√≥n de Xilinx: 
\emph on

\begin_inset Quotes eld
\end_inset

System Generator for DSP, User Guide (UG640)
\begin_inset Quotes erd
\end_inset


\emph default
 para tener una mayor referencia a todos los conceptos t√©cnicos que intervienen
 en esta metodolog√≠a de dise√±o y que no son tocados por este documento de
 investigaci√≥n.
\end_layout

\end_inset

.
 Esta herramienta extiende la funcionalidad de Simulink
\lang spanish
¬Æ
\lang spanish-mexico
 de muchas maneras, con el objetivo de proporcionar un entorno de modelado
 bastante adecuado para el desarrollo de hardware.
 Este toolbox proporciona abstracciones de alto nivel que se compilan autom√°tica
mente en un FPGA, facilitando la implementaci√≥n de algoritmos complejos
 en donde intervengan, por ejemplo, hasta varios bloques de hardware en
 diferentes dominios de reloj.
 Tambi√©n proporciona acceso a recursos o macros primitivas subyacentes del
 FPGA a trav√©s de abstracciones de bajo nivel, lo que permite la construcci√≥n
 de dise√±os altamente eficientes
\begin_inset CommandInset citation
LatexCommand cite
key "sysgen_user_guide"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/sysgen_flow.eps
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Flujo de dise√±o con System Generator
\lang spanish

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{
\end_layout

\end_inset


\lang spanish-mexico
 de Xilinx
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{}
\end_layout

\end_inset

.
 Imagen obtenida del documento 
\begin_inset Quotes eld
\end_inset


\emph on
Wireless communications: from systems to silicon
\emph default

\begin_inset Quotes erd
\end_inset

, del autor Raghu Rao.
 Wireless Systems Group, Xilinx
\lang spanish

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{
\end_layout

\end_inset


\lang spanish-mexico
 Inc, 2008.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard

\emph on
Syst
\emph default
em Generator
\lang spanish
¬Æ
\emph on
\lang spanish-mexico
 
\emph default
a√±ade librer√≠as o 
\emph on
blocksets
\emph default
 a la interfaz de Simulink
\lang spanish
¬Æ
\lang spanish-mexico
, estos se pueden conectar a los dem√°s toolboxes que vienen ya incluidos
 en la suite de Matlab
\lang spanish
¬Æ
\lang spanish-mexico
 para generar modelos funcionales de sistemas din√°micos.
 Estos bloques proveen abstracciones de funciones matem√°ticas, l√≥gicas,
 utilizaci√≥n de memorias y funciones DSP que pueden ser f√°cilmente utilizados
 en el dise√±o de sistemas complejos y sofisticados.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/sysgen_blocks.eps
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Ejemplo de blocksets incluidos en el toolbox de Sysgen, en su versi√≥n ISE
\lang spanish

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{
\end_layout

\end_inset


\lang spanish-mexico
 14.7.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Una de las caracter√≠sticas m√°s importantes de este toolbox es que, permite
 implementar algoritmos haciendo uso de varios ingredientes.
 Por ejemplo, se pueden integrar bloques de c√≥digo en 
\emph on
Verilog 
\emph default
o 
\emph on
VHDL, 
\emph default
as√≠ como funciones pre dise√±adas de Matlab
\lang spanish
¬Æ
\lang spanish-mexico
 dentro de las conexiones de Simulink
\lang spanish
¬Æ
\lang spanish-mexico
, sin afectar la ejecuci√≥n de simulaci√≥n y m√°s importante, garantizando
 la s√≠ntesis de todos estos elementos en el FPGA.
 Adem√°s, este 
\emph on
blockset
\emph default
 trabaja con 
\series bold
\emph on
precisi√≥n de bits
\series default
\emph default
 (
\emph on
bit-accurate
\emph default
) y 
\series bold
\emph on
precisi√≥n de ciclo
\emph default
 
\series default
(
\emph on
cycle-accurate).
 
\emph default
La 
\series bold
\emph on
precisi√≥n de bits
\series default
\emph default
 produce valores en Simulink
\lang spanish
¬Æ
\lang spanish-mexico
 que coinciden con los valores producidos en el hardware; la 
\series bold
\emph on
precisi√≥n de ciclo
\series default
\emph default
 produce los valores correspondientes en el tiempo correspondiente.
\end_layout

\begin_layout Subsubsection
Co-Dise√±o de Hardware/Software en el ambiente de Xilinx
\lang spanish

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{
\end_layout

\end_inset


\lang spanish-mexico
 System Generator
\lang spanish

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{
\end_layout

\end_inset


\lang spanish-mexico
 for DSP.
 
\end_layout

\begin_layout Standard
Es posible que el flujo de dise√±o con esta herramienta de alto nivel no
 sea tan claro a primera instancia, m√°s para aquellos que tienen experiencia
 trabajando con los paquetes de software de Matlab
\lang spanish
¬Æ
\lang spanish-mexico
 y Xilinx
\lang spanish
¬Æ
\lang spanish-mexico
 por separado.
 Existen varias formas en las que 
\emph on
Sysgen
\emph default
 puede se sintetizado en el kit Atlys, algunos flujos representan ciertas
 ventajas sobre los dem√°s, o simplemente son mejores formas de lograr el
 objetivo deseado de una manera m√°s r√°pida.
 Los flujos de implementaci√≥n soportados por este toolbox son:
\end_layout

\begin_layout Itemize

\series bold
Exploraci√≥n de Algoritmos mediante simulaci√≥n
\emph on
 Hardware-in-the-Loop: 
\series default
\emph default
Este flujo est√° pensado para llevar a cabo una simulaci√≥n en tiempo real
 de un prototipado o incluso de un an√°lisis realista del desempe√±o de un
 sistema bajo estudio.
 El bloque de Simulink
\lang spanish
¬Æ
\lang spanish-mexico
 es 
\emph on
sintetizado
\emph default
 con una capa extra de hardware que le brinda la capacidad al FPGA de enviar
 y recibir est√≠mulos directamente al ambiente de simulaci√≥n, mostrando as√≠
 una respuesta tangible y cercana a la realidad que el hardware podr√≠a brindar.
 En este modo, la informaci√≥n se puede enviar a trav√©s del puerto JTAG o
 Ethernet, dependiendo de la velocidad de transmisi√≥n requerida.
 
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/hw_cosim.eps
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Diagrama a bloques del flujo de implementaci√≥n mediante 
\emph on
Hardware-in-the-loop.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Dise√±o de una IP como parte de un prototipo m√°s grande: 
\series default
Se puede empaquetar el sistema previamente modelado y simulado en Sysgen/Simulin
k
\lang spanish
¬Æ
\lang spanish-mexico
 para despu√©s ser instanciado como parte de un dise√±o m√°s grande.
 
\emph on
Sysgen 
\emph default
tiene bastante limitaciones a la hora de trabajar con interfaces que necesitan
 estrictos requerimientos de 
\emph on
timing
\emph default
.
 Por ejemplo, para trabajar con interfaces ADC/DAC que generan informaci√≥n
 a grandes frecuencias de reloj, es mejor utilizar este flujo y combinar
 el modelo de Sysgen con las dem√°s partes necesarias del prototipo, en un
 solo proyecto.
 Sysgen puede crear un empaquetado en Verilog o VHDL para sintetizar y/o
 simular un modelo de forma independiente.
 
\end_layout

\begin_layout Itemize

\series bold
Implementaci√≥n de un dise√±o completo: 
\series default
La suite de Xilinx
\lang spanish
¬Æ
\lang spanish-mexico
 contiene herramientas para distintos enfoques, por ejemplo, s√≠ntesis l√≥gica
 con lenguajes de descripci√≥n de hardware, sistemas embebidos basados en
 la familia de procesadores 
\emph on
MicroBlaze
\emph default
\lang spanish
¬Æ
\emph on
\lang spanish-mexico
/PicoBlaze
\emph default
\lang spanish
¬Æ
\lang spanish-mexico
, cat√°logos de IPs para una gran variedad de sistemas ingenieriles y dise√±o
 de sistemas en lenguajes de alto nivel.
 Sysgen puede trabajar con todos y cada uno de esos enfoques, para lograr
 un dise√±o mucho m√°s estable en un menor tiempo.
 
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/edk_export.eps
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Ejemplo de implementaci√≥n de un dise√±o completo utilizando el toolbox de
 Sysgen en Simulink
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered
\end_layout

\end_inset

.
 Imagen tomada de la gu√≠a de usuario 
\begin_inset Quotes eld
\end_inset


\emph on
System Generator for DSP User Guide, UG640
\begin_inset Quotes erd
\end_inset

.
 
\emph default
Se puede observar como el procesador Microblaze
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered
\end_layout

\end_inset

, puede transmitir y recibir impulsos del modelo en Sysgen.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Introducci√≥n a Xilinx
\lang spanish

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{
\end_layout

\end_inset


\lang spanish-mexico
 ISE
\lang spanish

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{
\end_layout

\end_inset


\lang spanish-mexico
 y PlanAhead
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{}
\end_layout

\end_inset

.
\end_layout

\begin_layout Subsubsection
Rese√±a de Xilinx
\lang spanish

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{
\end_layout

\end_inset


\lang spanish-mexico
 ISE
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{}
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
El sistema de Xilinx
\lang spanish
¬Æ
\lang spanish-mexico
 ISE
\lang spanish
¬Æ
\lang spanish-mexico
 es un entorno de dise√±o integrado que consiste en un conjunto de programas
 para crear (o capturar), simular e implementar dise√±os digitales en un
 dispositivo FPGA o CPLD de Xilinx
\lang spanish
¬Æ
\lang spanish-mexico
 √∫nicamente.
 Todas las herramientas contenidas en este entorno utilizan una interfaz
 gr√°fica de usuario que permiten que todos los programas se ejecuten desde
 la barra de herramientas
\begin_inset CommandInset citation
LatexCommand cite
key "ise_tut_0"

\end_inset

.
\end_layout

\begin_layout Standard
Este entorno gr√°fico mostrado en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Interf√°z-principal-del"

\end_inset

 es conocido como 
\emph on
Project Navigator, 
\emph default
desde esta interfaz se controlan todos los aspectos del dise√±o, desde la
 creaci√≥n de un proyecto y la selecci√≥n de la familia de FPGA que se va
 a utilizar, hasta la edici√≥n de archivos de descripci√≥n de hardware, dise√±o
 a base de captura de esquem√°tico y verificaci√≥n del dise√±o, sin salir de
 la interfaz.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/project_navigator.eps
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Interfaz principal del 
\emph on
ISE
\emph default
\lang spanish

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{
\end_layout

\end_inset


\emph on
\lang spanish-mexico
 Project Navigator
\begin_inset CommandInset label
LatexCommand label
name "fig:Interf√°z-principal-del"

\end_inset

.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Xilinx
\lang spanish
¬Æ
\lang spanish-mexico
 ISE
\lang spanish
¬Æ
\lang spanish-mexico
 gu√≠a al dise√±ador en el flujo de construcci√≥n en FPGA utilizando el flujo
 conocido como 
\begin_inset Quotes eld
\end_inset


\emph on
push button
\begin_inset Quotes erd
\end_inset

, 
\emph default
esto significa que todo el proceso est√° definido, automatizado y s√≥lo basta
 presionar un bot√≥n para que la herramienta haga el trabajo de llevar la
 especificaci√≥n del dise√±o de RTL al 
\emph on
bitstream
\emph default
, mediante la ejecuci√≥n de algunos procesos en segundo plano, los cuales
 se enlistan en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Diagrama-a-flujo"

\end_inset

 y se describen a continuaci√≥n.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset CommandInset include
LatexCommand include
filename "misc/fpgabuild_flow.tex"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Diagrama a flujo del proceso de compilaci√≥n en FPGA, elaborado usando el
 paquete 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textup{Ti
\backslash
textit{k}Z}
\end_layout

\end_inset

 de 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
LaTeX
\end_layout

\end_inset

.
\begin_inset CommandInset label
LatexCommand label
name "fig:Diagrama-a-flujo"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\series bold
S√≠ntesis: 
\series default
Este es el proceso de convertir un dise√±o descrito en Lenguaje de Descripci√≥n
 de Hardware a un netlist con un formato propietario conocido como 
\emph on
Archivo Netlist con Informaci√≥n de restricciones f√≠sicas
\series bold
\emph default
 
\series default
(
\series bold
NGC
\series default
, por sus siglas en Ingl√©s), ejecutando la herramienta llamada 
\emph on
Tecnolog√≠a de S√≠ntesis de Xilinx
\emph default
\lang spanish
¬Æ
\series bold
\lang spanish-mexico
 
\series default
(
\series bold
XST,
\series default
 por sus siglas en Ingl√©s).
\end_layout

\begin_layout Itemize

\series bold
Simulaci√≥n: 
\series default
XIlinx
\lang spanish
¬Æ
\lang spanish-mexico
 ISE
\lang spanish
¬Æ
\lang spanish-mexico
 cuenta con un simulador integrado llamado 
\series bold
ISE Simulator 
\series default
o 
\series bold
ISim
\series default
\lang spanish
¬Æ
\lang spanish-mexico
, el cual soporta Verilog 2001 y VHDL 93, adem√°s del uso de ambos lenguajes
 para dise√±o y simulaci√≥n.
 Tambi√©n ofrece capacidades de visualizaci√≥n y rastreo/an√°lisis de formas
 de onda tanto anal√≥gicas
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
La visualizaci√≥n de formas de onda anal√≥gicas requiere de una licencia adicional.
\end_layout

\end_inset

 como digitales y depuraci√≥n de fuentes HDL, entre muchas otras caracter√≠sticas
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Para obtener una lista m√°s completa de las caracter√≠sticas de 
\series bold
ISim
\series default
, puede visitar el sitio web https://www.xilinx.com/products/design-tools/isim.html
\end_layout

\end_inset

.
\end_layout

\begin_layout Itemize

\series bold
Map: 
\series default
En este paso se translada la salida generada en el proceso de s√≠ntesis,
 a primitivos de la FPGA especificada en el proyecto.
 Al finalizar, el ejecutable llamado igual que el proceso (
\series bold
Map
\series default
) genera un netlist m√°s, pero en un formato conocido como 
\emph on
Descripci√≥n Nativa del Circuito 
\emph default
(
\series bold
NCD 
\series default
por sus siglas en Ingl√©s).
 Es importante recalcar que en este proceso es donde se llevan a cabo las
 optimizaci√≥nes de 
\emph on
timing closure
\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\size normal
\emph on
Timing closure 
\emph default
es el proceso mediante el cual se modifica un dise√±o FPGA para cumplir con
 los requisitos de tiempo.
 Por ejemplo, la frecuencia m√°xima a la que el prototipo puede trabajar,
 o la generaci√≥n de frecuencias correctas para protocolos de baja velocidad
 como RS232 o SPI.
\end_layout

\end_inset

 y 
\emph default
√°rea, las cuales est√°n
\series bold
 
\series default
relacionadas con el desempe√±o final del dise√±o
\begin_inset CommandInset citation
LatexCommand cite
key "power_tips"

\end_inset

.
\end_layout

\begin_layout Itemize

\series bold
Place and Route (PAR): 
\series default
Este es el proceso de interconectar los elementos primitivos, a partir de
 la salida dada por el proceso de Map, para as√≠ poder finalizar la implementaci√≥
n.
 Este es el paso m√°s importante y el que consume un mayor tiempo de ejecuci√≥n,
 debido a que la herramienta de Xilinx
\lang spanish
¬Æ
\lang spanish-mexico
 encargada de hacer la 
\emph on
colocaci√≥n 
\emph default
de los primitivos en los CLBs ejecutar√° diferentes algoritmos para obtener
 el resultado m√°s √≥ptimo, de otra forma el 
\emph on
enrutamiento
\emph default
 ser√° casi imposible de lograr.
 En este paso, se obtiene el porcentaje exacto de recursos utilizados en
 la FPGA y la informaci√≥n para generar el 
\emph on
bitstream.
\end_layout

\begin_layout Standard

\emph on
Project Navigator
\series bold
 
\series default
\emph default
se encarga de ejecutar el flujo de implementaci√≥n descrito, as√≠ como generar
 reportes para el an√°lisis de resultados y manejar la configuraci√≥n del
 kit Atlys, para descargar el 
\emph on
bitstream
\emph default
 generado.
\end_layout

\begin_layout Subsubsection
PlanAhead
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{}
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
Hablando en t√©rminos m√°s profesionales, el flujo de implementaci√≥n en FPGA
 descrito en la subsecci√≥n anterior se divide en dos procesos globales:
 
\emph on
Front-End, 
\emph default
que b√°sicamente abarca la s√≠ntesis y simulaci√≥n, y 
\emph on
Back-end
\emph default
 que abarca Map
\emph on
 y 
\emph default
PAR
\emph on
.
 
\end_layout

\begin_layout Standard
Generalmente, 
\emph on
PlanAhead
\emph default
\lang spanish
¬Æ
\emph on
\lang spanish-mexico

\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Se recomienda leer la gu√≠a 
\series bold
UG673: 
\begin_inset Quotes eld
\end_inset

Quick Front-to-Back Overview Tutorial
\begin_inset Quotes erd
\end_inset


\series default
 para mayor detalle en el uso de PlanAhead.
\end_layout

\end_inset


\emph default
 es utilizado por usuarios con m√°s experiencia en el campo de dise√±o con
 herramientas de Xilinx
\lang spanish
¬Æ
\lang spanish-mexico
, puesto que este ambiente ofrece mejoras para la optimizaci√≥n en el 
\emph on
Back-end 
\emph default
que en el 
\emph on
Project Navigator
\emph default
 no se exponen con la misma facilidad.
 
\end_layout

\begin_layout Standard
Sin embargo, 
\emph on
PlanAhead
\emph default
\lang spanish
¬Æ
\lang spanish-mexico
 provee plugins bastante √∫tiles para el 
\emph on
Front-End
\emph default
, por ejemplo, usa un potente motor para el an√°lisis de los archivos HDL
 en el dise√±o, tambi√©n puede trabajar con netlist previamente sintetizados
 y resultados de implementaci√≥n, adem√°s de poder crear diferentes versiones
 de implementaci√≥n, con lo que se pueden explorar m√∫ltiples optimizaciones
 para un mismo proyecto.
\end_layout

\begin_layout Standard
En este documento se utilizar√° 
\emph on
PlanAhead
\emph default
\lang spanish
¬Æ
\emph on
\lang spanish-mexico
 
\emph default
sobre 
\emph on
Project Navigator
\emph default
 por las ventajas ya mencionadas, adem√°s de que, Xilinx
\lang spanish
¬Æ
\lang spanish-mexico
 descontinu√≥ la suite ISE
\lang spanish
¬Æ
\lang spanish-mexico
 para evolucionar a Vivado
\lang spanish
¬Æ
\lang spanish-mexico
 desde el a√±o 2013.
 Vivado
\lang spanish
¬Æ
\lang spanish-mexico
 es una herramienta m√°s poderosa pero no compatible con familias inferiores
 a la serie 7.
 
\end_layout

\begin_layout Standard

\emph on
PlanAhead
\emph default
\lang spanish
¬Æ
\lang spanish-mexico
 es muy similar a la interfaz de Vivado
\lang spanish
¬Æ
\lang spanish-mexico
, por lo que los dise√±os podr√°n migrarse f√°cilmente sin necesidad de tener
 que familiarizarse de nuevo con otra herramienta.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/planAhead.eps
	scale 40
	rotateOrigin center

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Interfaz gr√°fica de PlanAhead
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered
\end_layout

\end_inset

, imagen obtenida del paquete Xilinx
\lang spanish

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{
\end_layout

\end_inset


\lang spanish-mexico
 ISE
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
textregistered{}
\end_layout

\end_inset

.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\end_body
\end_document
